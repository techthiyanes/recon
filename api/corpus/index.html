
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Debug annotated Named Entity Recognition (NER) data for inconsitencies and get insights on improving the quality of your data." name="description"/>
<link href="https://microsoft.github.io/reconner/api/corpus/" rel="canonical"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.4.0" name="generator"/>
<title>Corpus - Recon</title>
<link href="../../assets/stylesheets/main.fe0cca5b.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.a46bcfb3.min.css" rel="stylesheet"/>
<meta content="#2196f3" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<link href="../../css/termynal.css" rel="stylesheet"/>
<link href="../../css/custom.css" rel="stylesheet"/>
<meta content="https://microsoft.github.io/reconner/api/corpus/" property="og:url"/>
<meta content="Corpus - Recon" property="og:title"/>
<meta content="Debug annotated Named Entity Recognition (NER) data for inconsitencies and get insights on improving the quality of your data." property="og:description"/>
<meta content="https://microsoft.github.io/reconner/img/recon.svg" property="og:image"/>
<meta content="Recon NER" property="og:image:alt"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@kabir_khan14" name="twitter:site"/>
<meta content="@kabir_khan14" name="twitter:creator"/>
<meta content="Corpus - Recon" property="twitter:title"/>
<meta content="Debug annotated Named Entity Recognition (NER) data for inconsitencies and get insights on improving the quality of your data." name="twitter:description"/>
<meta content="https://microsoft.github.io/reconner/img/recon.svg" name="twitter:image"/>
<meta content="Recon NER" name="twitter:image:alt"/>
</head>
<body data-md-color-accent="blue" data-md-color-primary="blue" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#recon.corpus">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Recon" class="md-header-nav__button md-logo" href="https://microsoft.github.io/reconner/" title="Recon">
<img alt="logo" src="../../img/drone-white.svg"/>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            Recon
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Corpus
            
          </span>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/microsoft/reconner/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    microsoft/reconner
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Recon" class="md-nav__button md-logo" href="https://microsoft.github.io/reconner/" title="Recon">
<img alt="logo" src="../../img/drone-white.svg"/>
</a>
    Recon
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/microsoft/reconner/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    microsoft/reconner
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Recon">
      Recon
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      Tutorial
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Tutorial" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Tutorial
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../tutorial/1_loading_data/" title="Loading your data">
      Loading your data
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tutorial/2_ner_stats/" title="NER Stats">
      NER Stats
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" id="nav-2-3" type="checkbox"/>
<label class="md-nav__link" for="nav-2-3">
      Dataset
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Dataset" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-2-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Dataset
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../tutorial/3_dataset_intro/" title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tutorial/3_dataset_mutate/" title="Making changes to a Dataset">
      Making changes to a Dataset
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tutorial/4_corpus/" title="Using a Corpus">
      Using a Corpus
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tutorial/4_more_stats/" title="More NER Stats">
      More NER Stats
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tutorial/5_getting_insights/" title="Getting Insights">
      Getting Insights
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tutorial/custom_entity_recognizer/" title="Custom EntityRecognizer">
      Custom EntityRecognizer
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      API Reference
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="API Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        API Reference
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Corpus
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="Corpus">
      Corpus
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus">
    recon.corpus
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus">
    Corpus
  </a>
<nav aria-label="Corpus" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.all">
    all
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.dev">
    dev
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.dev_ds">
    dev_ds
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.name">
    name
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.test">
    test
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.test_ds">
    test_ds
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.train">
    train
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.train_ds">
    train_ds
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.apply">
    apply()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.apply_">
    apply_()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.from_disk">
    from_disk()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.from_prodigy">
    from_prodigy()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.pipe_">
    pipe_()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.to_disk">
    to_disk()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.to_prodigy">
    to_prodigy()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../corrections/" title="Corrections">
      Corrections
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../dataset/" title="Dataset">
      Dataset
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../hashing/" title="Hashing">
      Hashing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../insights/" title="Insights">
      Insights
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../loaders/" title="Loaders">
      Loaders
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../operations/" title="Operations">
      Operations
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../stats/" title="Stats">
      Stats
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../store/" title="Store">
      Store
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tokenization/" title="Tokenization">
      Tokenization
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../validation/" title="Validation">
      Validation
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-12" id="nav-3-12" type="checkbox"/>
<label class="md-nav__link" for="nav-3-12">
      Recognizers
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Recognizers" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-3-12">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Recognizers
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../recognizers/base/" title="EntityRecognizer">
      EntityRecognizer
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../recognizers/spacy/" title="SpacyEntityRecognizer">
      SpacyEntityRecognizer
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../types/example/" title="Types">
      Types
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../contributing/" title="Development - Contributing">
      Development - Contributing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/" title="Release Notes">
      Release Notes
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus">
    recon.corpus
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus">
    Corpus
  </a>
<nav aria-label="Corpus" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.all">
    all
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.dev">
    dev
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.dev_ds">
    dev_ds
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.name">
    name
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.test">
    test
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.test_ds">
    test_ds
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.train">
    train
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.train_ds">
    train_ds
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.__init__">
    __init__()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.apply">
    apply()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.apply_">
    apply_()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.from_disk">
    from_disk()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.from_prodigy">
    from_prodigy()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.pipe_">
    pipe_()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.to_disk">
    to_disk()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#recon.corpus.Corpus.to_prodigy">
    to_prodigy()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/microsoft/reconner/tree/master/docs/api/corpus.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1>Corpus</h1>
<div class="doc doc-object doc-module">
<h2 class="hidden-toc" href="#recon.corpus" id="recon.corpus" style="visibility: hidden; width: 0; height: 0;">
<a class="headerlink" href="#recon.corpus" title="Permanent link">¶</a></h2>
<div class="doc doc-contents first">
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="recon.corpus.Corpus">
<code>Corpus</code>
<a class="headerlink" href="#recon.corpus.Corpus" title="Permanent link">¶</a></h2>
<div class="doc doc-contents">
<p>Container for a full Corpus with train/dev/test splits.
    Used to apply core functions to all datasets at once.</p>
<div class="doc doc-children">
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.all">
<code class="highlight">
all: <span class="n">List</span><span class="p">[</span><span class="n">recon</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Example</span><span class="p">]</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#recon.corpus.Corpus.all" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Return concatenation of train/dev/test datasets</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>List[recon.types.Example]</code></td>
<td>
<p>List[Example]: All Examples in Corpus</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.dev">
<code class="highlight">
dev: <span class="n">List</span><span class="p">[</span><span class="n">recon</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Example</span><span class="p">]</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#recon.corpus.Corpus.dev" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Return dev dataset</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>List[recon.types.Example]</code></td>
<td>
<p>List[Example]: Dev Examples</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.dev_ds">
<code class="highlight">
dev_ds: <span class="n">Dataset</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#recon.corpus.Corpus.dev_ds" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Return dev dataset</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Dataset</code></td>
<td>
<p>Dataset: Dev Dataset</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.name">
<code class="highlight">
name: <span class="nb">str</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#recon.corpus.Corpus.name" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Get Corpus name</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str</code></td>
<td>
<p>str: Corpus name</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.test">
<code class="highlight">
test: <span class="n">List</span><span class="p">[</span><span class="n">recon</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Example</span><span class="p">]</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#recon.corpus.Corpus.test" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Return test dataset</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>List[recon.types.Example]</code></td>
<td>
<p>List[Example]: Test Examples</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.test_ds">
<code class="highlight">
test_ds: <span class="n">Dataset</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#recon.corpus.Corpus.test_ds" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Return test dataset</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Dataset</code></td>
<td>
<p>Dataset: Test Dataset</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.train">
<code class="highlight">
train: <span class="n">List</span><span class="p">[</span><span class="n">recon</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">Example</span><span class="p">]</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#recon.corpus.Corpus.train" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Return train dataset</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>List[recon.types.Example]</code></td>
<td>
<p>List[Example]: Train Examples</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-attribute">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.train_ds">
<code class="highlight">
train_ds: <span class="n">Dataset</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-property"><code>property</code></small>
<small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
</span>
<a class="headerlink" href="#recon.corpus.Corpus.train_ds" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Return train dataset</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Dataset</code></td>
<td>
<p>Dataset: Train Dataset</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.__init__">
<code class="highlight language-python">
__init__<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">train</span><span class="p">,</span> <span class="n">dev</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">example_store</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<span class="doc doc-properties">
<small class="doc doc-property doc-property-special"><code>special</code></small>
</span>
<a class="headerlink" href="#recon.corpus.Corpus.__init__" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Initialize a Corpus.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td><code>str</code></td>
<td>
<p>Name of the Corpus</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>train</code></td>
<td><code>Dataset</code></td>
<td>
<p>List of examples for <strong>train</strong> set</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>dev</code></td>
<td><code>Dataset</code></td>
<td>
<p>List of examples for <strong>dev</strong> set</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>test</code></td>
<td><code>Dataset</code></td>
<td>
<p>Defaults to None. List of examples for <strong>test</strong> set</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>recon/corpus.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">train</span><span class="p">:</span> <span class="n">Dataset</span><span class="p">,</span>
    <span class="n">dev</span><span class="p">:</span> <span class="n">Dataset</span><span class="p">,</span>
    <span class="n">test</span><span class="p">:</span> <span class="n">Dataset</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">example_store</span><span class="p">:</span> <span class="n">ExampleStore</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""Initialize a Corpus.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): Name of the Corpus</span>
<span class="sd">        train (Dataset): List of examples for **train** set</span>
<span class="sd">        dev (Dataset): List of examples for **dev** set</span>
<span class="sd">        test (Dataset, optional): Defaults to None. List of examples for **test** set</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="k">if</span> <span class="n">example_store</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">examples</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">data</span> <span class="o">+</span> <span class="n">dev</span><span class="o">.</span><span class="n">data</span>
        <span class="k">if</span> <span class="n">test</span><span class="p">:</span>
            <span class="n">examples</span> <span class="o">+=</span> <span class="n">test</span><span class="o">.</span><span class="n">data</span>
        <span class="n">example_store</span> <span class="o">=</span> <span class="n">ExampleStore</span><span class="p">(</span><span class="n">examples</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">example_store</span> <span class="o">=</span> <span class="n">example_store</span>

    <span class="k">if</span> <span class="n">test</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">test</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">ds</span> <span class="ow">in</span> <span class="p">(</span><span class="n">train</span><span class="p">,</span> <span class="n">dev</span><span class="p">,</span> <span class="n">test</span><span class="p">):</span>
        <span class="n">ds</span><span class="o">.</span><span class="n">example_store</span> <span class="o">=</span> <span class="n">example_store</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_train</span> <span class="o">=</span> <span class="n">train</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_dev</span> <span class="o">=</span> <span class="n">dev</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_test</span> <span class="o">=</span> <span class="n">test</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.apply">
<code class="highlight language-python">
apply<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code>
<a class="headerlink" href="#recon.corpus.Corpus.apply" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Apply a function to all datasets</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>func</code></td>
<td><code>Callable[[List[recon.types.Example], Any, Any], Any]</code></td>
<td>
<p>Function from an existing recon module that can operate on a List of examples</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>CorpusApplyResult</code></td>
<td>
<p>CorpusApplyResult: CorpusApplyResult mapping dataset name to return type of func Callable</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>recon/corpus.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">apply</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">List</span><span class="p">[</span><span class="n">Example</span><span class="p">],</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">Any</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CorpusApplyResult</span><span class="p">:</span>
    <span class="sd">"""Apply a function to all datasets</span>

<span class="sd">    Args:</span>
<span class="sd">        func (Callable[[List[Example], Any, Any], Any]):</span>
<span class="sd">            Function from an existing recon module that can operate on a List of examples</span>

<span class="sd">    Returns:</span>
<span class="sd">        CorpusApplyResult: CorpusApplyResult mapping dataset name to return type of func Callable</span>
<span class="sd">    """</span>

    <span class="k">return</span> <span class="n">CorpusApplyResult</span><span class="p">(</span>
        <span class="n">train</span><span class="o">=</span><span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">train</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="n">dev</span><span class="o">=</span><span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dev</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="n">test</span><span class="o">=</span><span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
        <span class="nb">all</span><span class="o">=</span><span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">all</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>  <span class="c1"># type: ignore</span>
    <span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.apply_">
<code class="highlight language-python">
apply_<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> </code>
<a class="headerlink" href="#recon.corpus.Corpus.apply_" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Apply a function to all data inplace.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>operation</code></td>
<td><code>Callable[[Any], recon.types.OperationResult]</code></td>
<td>
<p>Any operation that
changes data in place. See recon.operations.registry.operations</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>recon/corpus.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>144
145
146
147
148
149
150
151
152
153
154
155</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">apply_</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">],</span> <span class="n">OperationResult</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Apply a function to all data inplace.</span>

<span class="sd">    Args:</span>
<span class="sd">        operation (Callable[[Any], OperationResult]): Any operation that</span>
<span class="sd">            changes data in place. See recon.operations.registry.operations</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_train</span><span class="o">.</span><span class="n">apply_</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_dev</span><span class="o">.</span><span class="n">apply_</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_test</span><span class="o">.</span><span class="n">apply_</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.from_disk">
<code class="highlight language-python">
from_disk<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">,</span> <span class="n">train_file</span><span class="o">=</span><span class="s1">'train.jsonl'</span><span class="p">,</span> <span class="n">dev_file</span><span class="o">=</span><span class="s1">'dev.jsonl'</span><span class="p">,</span> <span class="n">test_file</span><span class="o">=</span><span class="s1">'test.jsonl'</span><span class="p">,</span> <span class="n">loader_func</span><span class="o">=&lt;</span><span class="n">function</span> <span class="n">read_jsonl</span> <span class="n">at</span> <span class="mh">0x7fd7b77aae18</span><span class="o">&gt;</span><span class="p">)</span> </code>
<a class="headerlink" href="#recon.corpus.Corpus.from_disk" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Load Corpus from disk given a directory with files
named explicitly train.jsonl, dev.jsonl, and test.jsonl</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data_dir</code></td>
<td><code>Path</code></td>
<td>
<p>directory to load from.</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>train_file</code></td>
<td><code>str</code></td>
<td>
<p>Filename of train data under data_dir. Defaults to train.jsonl.</p>
</td>
<td><code>'train.jsonl'</code></td>
</tr>
<tr>
<td><code>dev_file</code></td>
<td><code>str</code></td>
<td>
<p>Filename of dev data under data_dir. Defaults to dev.jsonl.</p>
</td>
<td><code>'dev.jsonl'</code></td>
</tr>
<tr>
<td><code>test_file</code></td>
<td><code>str</code></td>
<td>
<p>Filename of test data under data_dir. Defaults to test.jsonl.</p>
</td>
<td><code>'test.jsonl'</code></td>
</tr>
<tr>
<td><code>loader_func</code></td>
<td><code>Callable</code></td>
<td>
<p>Callable that reads a file and returns a List of examples.
Defaults to <a href="https://microsoft.github.io/reconner/api/loaders/#recon.loaders.read_jsonl">read_jsonl</a></p>
</td>
<td><code>&lt;function read_jsonl at 0x7fd7b77aae18&gt;</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>recon/corpus.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">from_disk</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data_dir</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span>
    <span class="n">train_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">"train.jsonl"</span><span class="p">,</span>
    <span class="n">dev_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">"dev.jsonl"</span><span class="p">,</span>
    <span class="n">test_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">"test.jsonl"</span><span class="p">,</span>
    <span class="n">loader_func</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="n">read_jsonl</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">"Corpus"</span><span class="p">:</span>
    <span class="sd">"""Load Corpus from disk given a directory with files</span>
<span class="sd">    named explicitly train.jsonl, dev.jsonl, and test.jsonl</span>

<span class="sd">    Args:</span>
<span class="sd">        data_dir (Path): directory to load from.</span>
<span class="sd">        train_file (str, optional): Filename of train data under data_dir. Defaults to train.jsonl.</span>
<span class="sd">        dev_file (str, optional): Filename of dev data under data_dir. Defaults to dev.jsonl.</span>
<span class="sd">        test_file (str, optional): Filename of test data under data_dir. Defaults to test.jsonl.</span>
<span class="sd">        loader_func (Callable, optional): Callable that reads a file and returns a List of examples.</span>
<span class="sd">            Defaults to [read_jsonl][recon.loaders.read_jsonl]</span>
<span class="sd">    """</span>
    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">ensure_path</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="n">train</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">"train"</span><span class="p">)</span><span class="o">.</span><span class="n">from_disk</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">/</span> <span class="n">train_file</span><span class="p">)</span>
    <span class="n">dev</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">"dev"</span><span class="p">)</span><span class="o">.</span><span class="n">from_disk</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">/</span> <span class="n">dev_file</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">test</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span><span class="o">.</span><span class="n">from_disk</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">/</span> <span class="n">test_file</span><span class="p">)</span>
        <span class="n">corpus</span> <span class="o">=</span> <span class="bp">self</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">train</span><span class="p">,</span> <span class="n">dev</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="n">test</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">corpus</span> <span class="o">=</span> <span class="bp">self</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">train</span><span class="p">,</span> <span class="n">dev</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">corpus</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.from_prodigy">
<code class="highlight language-python">
from_prodigy<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prodigy_train_datasets</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prodigy_dev_datasets</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prodigy_test_datasets</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#recon.corpus.Corpus.from_prodigy" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Load a Corpus from 3 separate datasets in Prodigy</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prodigy_train_dataset</code></td>
<td><code>str</code></td>
<td>
<p>Train dataset name in Prodigy</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>prodigy_dev_dataset</code></td>
<td><code>str</code></td>
<td>
<p>Dev dataset name in Prodigy</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>prodigy_test_dataset</code></td>
<td><code>str</code></td>
<td>
<p>Test dataset name in Prodigy</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Corpus</code></td>
<td>
<p>Corpus: Corpus initialized from prodigy datasets</p>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>recon/corpus.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">from_prodigy</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">prodigy_train_datasets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prodigy_dev_datasets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prodigy_test_datasets</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">"Corpus"</span><span class="p">:</span>
    <span class="sd">"""Load a Corpus from 3 separate datasets in Prodigy</span>

<span class="sd">    Args:</span>
<span class="sd">        prodigy_train_dataset (str, optional): Train dataset name in Prodigy</span>
<span class="sd">        prodigy_dev_dataset (str, optional): Dev dataset name in Prodigy</span>
<span class="sd">        prodigy_test_dataset (str, optional): Test dataset name in Prodigy</span>

<span class="sd">    Returns:</span>
<span class="sd">        Corpus: Corpus initialized from prodigy datasets</span>
<span class="sd">    """</span>
    <span class="n">train_ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">"train"</span><span class="p">)</span><span class="o">.</span><span class="n">from_prodigy</span><span class="p">(</span><span class="n">prodigy_train_datasets</span><span class="p">)</span>
    <span class="n">dev_ds</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="s2">"dev"</span><span class="p">)</span><span class="o">.</span><span class="n">from_prodigy</span><span class="p">(</span><span class="n">prodigy_dev_datasets</span><span class="p">)</span>
    <span class="n">test_ds</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Dataset</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span><span class="o">.</span><span class="n">from_prodigy</span><span class="p">(</span><span class="n">prodigy_train_datasets</span><span class="p">)</span> <span class="k">if</span> <span class="n">prodigy_test_datasets</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">)</span>

    <span class="n">ds</span> <span class="o">=</span> <span class="bp">self</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">train_ds</span><span class="p">,</span> <span class="n">dev_ds</span><span class="p">,</span> <span class="n">test_ds</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">ds</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.pipe_">
<code class="highlight language-python">
pipe_<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operations</span><span class="p">)</span> </code>
<a class="headerlink" href="#recon.corpus.Corpus.pipe_" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Run a sequence of operations on each dataset.
Calls Dataset.pipe_ for each dataset</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>operations</code></td>
<td><code>List[Union[str, recon.types.OperationState]]</code></td>
<td>
<p>List of operations</p>
</td>
<td><em>required</em></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>recon/corpus.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>157
158
159
160
161
162
163
164
165
166</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">pipe_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operations</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">OperationState</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Run a sequence of operations on each dataset.</span>
<span class="sd">    Calls Dataset.pipe_ for each dataset</span>

<span class="sd">    Args:</span>
<span class="sd">        operations (List[Union[str, OperationState]]): List of operations</span>
<span class="sd">    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_train</span><span class="o">.</span><span class="n">pipe_</span><span class="p">(</span><span class="n">operations</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_dev</span><span class="o">.</span><span class="n">pipe_</span><span class="p">(</span><span class="n">operations</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_test</span><span class="o">.</span><span class="n">pipe_</span><span class="p">(</span><span class="n">operations</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.to_disk">
<code class="highlight language-python">
to_disk<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> </code>
<a class="headerlink" href="#recon.corpus.Corpus.to_disk" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Save Corpus to Disk</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data_dir</code></td>
<td><code>Path</code></td>
<td>
<p>Directory to save data to</p>
</td>
<td><em>required</em></td>
</tr>
<tr>
<td><code>force</code></td>
<td><code>bool</code></td>
<td>
<p>Force save to directory. Create parent directories
or overwrite existing data.</p>
</td>
<td><code>False</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>recon/corpus.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">to_disk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">"""Save Corpus to Disk</span>

<span class="sd">    Args:</span>
<span class="sd">        data_dir (Path): Directory to save data to</span>
<span class="sd">        force (bool): Force save to directory. Create parent directories</span>
<span class="sd">            or overwrite existing data.</span>
<span class="sd">    """</span>
    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">ensure_path</span><span class="p">(</span><span class="n">data_dir</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
    <span class="n">state_dir</span> <span class="o">=</span> <span class="n">data_dir</span> <span class="o">/</span> <span class="s2">".recon"</span>
    <span class="k">if</span> <span class="n">force</span><span class="p">:</span>
        <span class="n">data_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">state_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
            <span class="n">state_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_train</span><span class="o">.</span><span class="n">to_disk</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">/</span> <span class="s2">"train.jsonl"</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span> <span class="n">save_examples</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_dev</span><span class="o">.</span><span class="n">to_disk</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">/</span> <span class="s2">"dev.jsonl"</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span> <span class="n">save_examples</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_test</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_test</span><span class="o">.</span><span class="n">to_disk</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">/</span> <span class="s2">"test.jsonl"</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span> <span class="n">save_examples</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">example_store</span><span class="o">.</span><span class="n">to_disk</span><span class="p">(</span><span class="n">state_dir</span> <span class="o">/</span> <span class="s2">"example_store.jsonl"</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
<div class="doc doc-object doc-method">
<h3 class="doc doc-heading" id="recon.corpus.Corpus.to_prodigy">
<code class="highlight language-python">
to_prodigy<span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prodigy_train_dataset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prodigy_dev_dataset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prodigy_test_dataset</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> </code>
<a class="headerlink" href="#recon.corpus.Corpus.to_prodigy" title="Permanent link">¶</a></h3>
<div class="doc doc-contents">
<p>Save a Corpus to 3 separate Prodigy datasets</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prodigy_train_dataset</code></td>
<td><code>str</code></td>
<td>
<p>Train dataset name in Prodigy</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>prodigy_dev_dataset</code></td>
<td><code>str</code></td>
<td>
<p>Dev dataset name in Prodigy</p>
</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>prodigy_test_dataset</code></td>
<td><code>str</code></td>
<td>
<p>Test dataset name in Prodigy</p>
</td>
<td><code>None</code></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>recon/corpus.py</code></summary>
<table class="highlighttable">
<tr>
<td class="linenos">
<div class="linenodiv">
<pre><span></span>247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271</pre>
</div>
</td>
<td class="code">
<div class="highlight">
<pre><span></span><code><span class="k">def</span> <span class="nf">to_prodigy</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">prodigy_train_dataset</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prodigy_dev_dataset</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">prodigy_test_dataset</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">"""Save a Corpus to 3 separate Prodigy datasets</span>

<span class="sd">    Args:</span>
<span class="sd">        prodigy_train_dataset (str, optional): Train dataset name in Prodigy</span>
<span class="sd">        prodigy_dev_dataset (str, optional): Dev dataset name in Prodigy</span>
<span class="sd">        prodigy_test_dataset (str, optional): Test dataset name in Prodigy</span>
<span class="sd">    """</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">prodigy_train_dataset</span><span class="p">:</span>
        <span class="n">prodigy_train_dataset</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">_train_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">train</span><span class="o">.</span><span class="n">commit_hash</span><span class="si">}</span><span class="s2">"</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">prodigy_dev_dataset</span><span class="p">:</span>
        <span class="n">prodigy_dev_dataset</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">_dev_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dev</span><span class="o">.</span><span class="n">commit_hash</span><span class="si">}</span><span class="s2">"</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">prodigy_test_dataset</span><span class="p">:</span>
        <span class="n">prodigy_test_dataset</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">_test_</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">commit_hash</span><span class="si">}</span><span class="s2">"</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">train_ds</span><span class="o">.</span><span class="n">to_prodigy</span><span class="p">(</span><span class="n">prodigy_train_dataset</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dev_ds</span><span class="o">.</span><span class="n">to_prodigy</span><span class="p">(</span><span class="n">prodigy_dev_dataset</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">test_ds</span><span class="o">.</span><span class="n">to_prodigy</span><span class="p">(</span><span class="n">prodigy_test_dataset</span><span class="p">)</span>
</code></pre>
</div>
</td>
</tr>
</table>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../../tutorial/custom_entity_recognizer/" rel="prev" title="Custom EntityRecognizer">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Custom EntityRecognizer
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../corrections/" rel="next" title="Corrections">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Corrections
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
<div class="md-footer-social">
</div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
<script src="../../assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
<script src="../../js/termynal.js"></script>
<script src="https://unpkg.com/mermaid@8.4.6/dist/mermaid.min.js"></script>
<script src="../../js/custom.js"></script>
</body>
</html>