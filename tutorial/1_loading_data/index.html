
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Debug annotated Named Entity Recognition (NER) data for inconsitencies and get insights on improving the quality of your data." name="description"/>
<link href="https://microsoft.github.io/reconner/tutorial/1_loading_data/" rel="canonical"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.4.0" name="generator"/>
<title>Loading your data - Recon</title>
<link href="../../assets/stylesheets/main.fe0cca5b.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.a46bcfb3.min.css" rel="stylesheet"/>
<meta content="#2196f3" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
<link href="../../css/termynal.css" rel="stylesheet"/>
<link href="../../css/custom.css" rel="stylesheet"/>
<meta content="https://microsoft.github.io/reconner/tutorial/1_loading_data/" property="og:url"/>
<meta content="Loading your data - Recon" property="og:title"/>
<meta content="Debug annotated Named Entity Recognition (NER) data for inconsitencies and get insights on improving the quality of your data." property="og:description"/>
<meta content="https://microsoft.github.io/reconner/img/recon.svg" property="og:image"/>
<meta content="Recon NER" property="og:image:alt"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@kabir_khan14" name="twitter:site"/>
<meta content="@kabir_khan14" name="twitter:creator"/>
<meta content="Loading your data - Recon" property="twitter:title"/>
<meta content="Debug annotated Named Entity Recognition (NER) data for inconsitencies and get insights on improving the quality of your data." name="twitter:description"/>
<meta content="https://microsoft.github.io/reconner/img/recon.svg" name="twitter:image"/>
<meta content="Recon NER" name="twitter:image:alt"/>
</head>
<body data-md-color-accent="blue" data-md-color-primary="blue" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#loading-your-data">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Recon" class="md-header-nav__button md-logo" href="https://microsoft.github.io/reconner/" title="Recon">
<img alt="logo" src="../../img/drone-white.svg"/>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            Recon
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Loading your data
            
          </span>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/microsoft/reconner/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    microsoft/reconner
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Recon" class="md-nav__button md-logo" href="https://microsoft.github.io/reconner/" title="Recon">
<img alt="logo" src="../../img/drone-white.svg"/>
</a>
    Recon
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/microsoft/reconner/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    microsoft/reconner
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../.." title="Recon">
      Recon
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      Tutorial
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Tutorial" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Tutorial
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Loading your data
        <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path></svg>
</span>
</label>
<a class="md-nav__link md-nav__link--active" href="./" title="Loading your data">
      Loading your data
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#loaders">
    Loaders
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
    Next Steps
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../2_ner_stats/" title="NER Stats">
      NER Stats
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" id="nav-2-3" type="checkbox"/>
<label class="md-nav__link" for="nav-2-3">
      Dataset
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Dataset" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-2-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Dataset
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../3_dataset_intro/" title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../3_dataset_mutate/" title="Making changes to a Dataset">
      Making changes to a Dataset
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../4_corpus/" title="Using a Corpus">
      Using a Corpus
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../4_more_stats/" title="More NER Stats">
      More NER Stats
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../5_getting_insights/" title="Getting Insights">
      Getting Insights
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../custom_entity_recognizer/" title="Custom EntityRecognizer">
      Custom EntityRecognizer
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      API Reference
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="API Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        API Reference
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/corpus/" title="Corpus">
      Corpus
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/corrections/" title="Corrections">
      Corrections
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/dataset/" title="Dataset">
      Dataset
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/hashing/" title="Hashing">
      Hashing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/insights/" title="Insights">
      Insights
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/loaders/" title="Loaders">
      Loaders
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/operations/" title="Operations">
      Operations
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/stats/" title="Stats">
      Stats
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/store/" title="Store">
      Store
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/tokenization/" title="Tokenization">
      Tokenization
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/validation/" title="Validation">
      Validation
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-12" id="nav-3-12" type="checkbox"/>
<label class="md-nav__link" for="nav-3-12">
      Recognizers
      <span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg>
</span>
</label>
<nav aria-label="Recognizers" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-3-12">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
        Recognizers
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/recognizers/base/" title="EntityRecognizer">
      EntityRecognizer
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/recognizers/spacy/" title="SpacyEntityRecognizer">
      SpacyEntityRecognizer
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/types/example/" title="Types">
      Types
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../contributing/" title="Development - Contributing">
      Development - Contributing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/" title="Release Notes">
      Release Notes
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#loaders">
    Loaders
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#next-steps">
    Next Steps
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/microsoft/reconner/tree/master/docs/tutorial/1_loading_data.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="loading-your-data">Loading your data<a class="headerlink" href="#loading-your-data" title="Permanent link">¶</a></h1>
<p>Recon NER expects your data to be in the most basic <a href="https://prodi.gy/docs/api-interfaces#ner">Prodigy Annotation Format</a>.</p>
<p>A single example in this format looks like:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">"text"</span><span class="p">:</span> <span class="s2">"Apple updates its analytics service with new metrics"</span><span class="p">,</span>
  <span class="nt">"spans"</span><span class="p">:</span> <span class="p">[{</span> <span class="nt">"start"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nt">"end"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="nt">"label"</span><span class="p">:</span> <span class="s2">"ORG"</span> <span class="p">}]</span>
<span class="p">}</span>
</code></pre></div>
<p>Recon does require that you have the tokens property set and will try to resolve any tokenization errors in your
data for you as well as add tokens if they don't already exist. If your have already been tokenized (which is true if you used the ner_manual Prodigy recipe), Recon will skip the tokenization step.</p>
<p>Recon expects your data to be in a collection in a JSONL or JSON file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>More loaders for different file types (<code>CONLL</code>) will be added in future versions</p>
</div>
<h2 id="loaders">Loaders<a class="headerlink" href="#loaders" title="Permanent link">¶</a></h2>
<p>Recon comes with a few loaders, <code>read_jsonl</code> and <code>read_json</code>. They're simple enough, they just load the data from disk and create instances of the strongly typed <code>Example</code> class for each raw example.</p>
<p>The <code>Example</code> class provides some basic validation that ensures all spans have a text property (which they don't if you're using newer versions of Prodigy and the ner.manual recipe for annotation).</p>
<p>Everything in Recon is built to run on a single <code>Example</code> or a <code>List[Example]</code>.</p>
<p>However, the goal of Recon is to provide insights across all of your annotated examples, not just one. For this, we need a wrapper around a set of examples. This is called a <a href="/api/dataset"><code>Dataset</code></a>.</p>
<p>Let's use the <code>read_jsonl</code> loader to load some annotated data created with Prodigy</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you don't have any data available, you can use the data in the examples folder <a href="https://github.com/microsoft/reconner/tree/master/examples/data/skills">here</a>. We'll be using this data for the rest of the tutorial.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">recon.loaders</span> <span class="kn">import</span> <span class="n">read_jsonl</span>
<span class="kn">from</span> <span class="nn">recon.types</span> <span class="kn">import</span> <span class="n">Example</span>


<span class="n">data</span> <span class="o">=</span> <span class="n">read_jsonl</span><span class="p">(</span><span class="s1">'examples/data/skills/train.jsonl'</span><span class="p">)</span>

<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Example</span><span class="p">)</span>
</code></pre></div>
<p>Now we have some examples to work, we can start examining our data.</p>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">¶</a></h2>
<p>Once you have your data loaded, you can run other Recon functions on top of it to gain insights into the quality and completeness of your NER data as well as to start making corrections to the inconsistently annotated examples you almost certainly have (Don't worry, that's fine! Messy data is everywhere, even Microsoft)</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../.." rel="prev" title="Recon">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Recon
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../2_ner_stats/" rel="next" title="NER Stats">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                NER Stats
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
<div class="md-footer-social">
</div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
<script src="../../assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
<script src="../../js/termynal.js"></script>
<script src="https://unpkg.com/mermaid@8.4.6/dist/mermaid.min.js"></script>
<script src="../../js/custom.js"></script>
</body>
</html>